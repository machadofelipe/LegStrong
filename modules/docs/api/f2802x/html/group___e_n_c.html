<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>MotorWare f2802x Module API Documentation: ENC</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MotorWare f2802x Module API Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ENC</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:struct___e_n_c___obj__"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#struct___e_n_c___obj__">_ENC_Obj_</a></td></tr>
<tr class="memdesc:struct___e_n_c___obj__"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the encoder object.  <a href="group___e_n_c.html#struct___e_n_c___obj__">More...</a><br /></td></tr>
<tr class="separator:struct___e_n_c___obj__"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa9e6227e7473e536f0f0a1e38b4439fc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#gaa9e6227e7473e536f0f0a1e38b4439fc">ENC_SPEED_SCALING_FACTOR</a>&#160;&#160;&#160;16777216.0</td></tr>
<tr class="separator:gaa9e6227e7473e536f0f0a1e38b4439fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6c884b66415712ccf2f555d79f85b64"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#gad6c884b66415712ccf2f555d79f85b64">ENC_ZERO_OFFSET</a>&#160;&#160;&#160;3813071.0</td></tr>
<tr class="separator:gad6c884b66415712ccf2f555d79f85b64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa4ccbe7dba2fc86c77741f34c942f9ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#gaa4ccbe7dba2fc86c77741f34c942f9ab">ENC_SPEED_CUTOFF_FREQ</a>&#160;&#160;&#160;100.0</td></tr>
<tr class="separator:gaa4ccbe7dba2fc86c77741f34c942f9ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd2f8617912a943c2d30c80e8631f821"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#gafd2f8617912a943c2d30c80e8631f821">ENC_SPEED_COEFF_Q</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:gafd2f8617912a943c2d30c80e8631f821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7fb93ea469490ac06c24010992fa77ce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#ga7fb93ea469490ac06c24010992fa77ce">ENC_SPEED_COEFF_SCALING</a>&#160;&#160;&#160;(1&lt;&lt;<a class="el" href="group___e_n_c.html#gafd2f8617912a943c2d30c80e8631f821">ENC_SPEED_COEFF_Q</a>)</td></tr>
<tr class="separator:ga7fb93ea469490ac06c24010992fa77ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe710cac084c044319ba4fa077cc4d38"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#gafe710cac084c044319ba4fa077cc4d38">ENC_2PI</a>&#160;&#160;&#160;(2.0*3.14159)</td></tr>
<tr class="separator:gafe710cac084c044319ba4fa077cc4d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga121eb1681fad522ae109feecde3c0e51"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#ga121eb1681fad522ae109feecde3c0e51">ENC_LOG_LEN</a>&#160;&#160;&#160;256</td></tr>
<tr class="separator:ga121eb1681fad522ae109feecde3c0e51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae3925389d60bc66b65831ec2e83d90ff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#gae3925389d60bc66b65831ec2e83d90ff">ENC_RPM_Q1</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:gae3925389d60bc66b65831ec2e83d90ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3ebf6b66bef98aac014b1b5aaf75504"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#gad3ebf6b66bef98aac014b1b5aaf75504">ENC_RPM_Q2</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:gad3ebf6b66bef98aac014b1b5aaf75504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44f85a287583de51f8ea094d4a152d8a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#ga44f85a287583de51f8ea094d4a152d8a">ENC_LOG_DELTA_TRIGGER_THRES</a>&#160;&#160;&#160;400</td></tr>
<tr class="separator:ga44f85a287583de51f8ea094d4a152d8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gac794fa34c17f33d5c463f62f1f336a1a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="group___e_n_c.html#struct___e_n_c___obj__">_ENC_Obj_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#gac794fa34c17f33d5c463f62f1f336a1a">ENC_Obj</a></td></tr>
<tr class="memdesc:gac794fa34c17f33d5c463f62f1f336a1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the encoder object.  <a href="#gac794fa34c17f33d5c463f62f1f336a1a">More...</a><br /></td></tr>
<tr class="separator:gac794fa34c17f33d5c463f62f1f336a1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga046a10f474ad13ede257a2b7e3ac763e"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="group___e_n_c.html#struct___e_n_c___obj__">_ENC_Obj_</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a></td></tr>
<tr class="memdesc:ga046a10f474ad13ede257a2b7e3ac763e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the encoder handle.  <a href="#ga046a10f474ad13ede257a2b7e3ac763e">More...</a><br /></td></tr>
<tr class="separator:ga046a10f474ad13ede257a2b7e3ac763e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga1e3bfb440db154aac416d3435957af94"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#ga1e3bfb440db154aac416d3435957af94">ENC_LOG_State_e</a> { <a class="el" href="group___e_n_c.html#gga1e3bfb440db154aac416d3435957af94a34ed26dab1090e77a5cb4bdb0d2943bb">ENC_LOG_STATE_IDLE</a> =0, 
<a class="el" href="group___e_n_c.html#gga1e3bfb440db154aac416d3435957af94a4aacc6d4419f7d07c3536aaa39ffe8fb">ENC_LOG_STATE_FREERUN</a>, 
<a class="el" href="group___e_n_c.html#gga1e3bfb440db154aac416d3435957af94a8a49ab7e0648e42bfdaef129087bc960">ENC_LOG_STATE_ACQUIRE</a>
 }</td></tr>
<tr class="memdesc:ga1e3bfb440db154aac416d3435957af94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration for the encoder log states.  <a href="group___e_n_c.html#ga1e3bfb440db154aac416d3435957af94">More...</a><br /></td></tr>
<tr class="separator:ga1e3bfb440db154aac416d3435957af94"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga787f083eeb3e9c0944e06c8d4de7d619"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#ga787f083eeb3e9c0944e06c8d4de7d619">ENC_calcElecAngle</a> (<a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a> encHandle, uint32_t posnCounts)</td></tr>
<tr class="memdesc:ga787f083eeb3e9c0944e06c8d4de7d619"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads encoder and returns the electrical degrees in Q24 format.  <a href="#ga787f083eeb3e9c0944e06c8d4de7d619">More...</a><br /></td></tr>
<tr class="separator:ga787f083eeb3e9c0944e06c8d4de7d619"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5575e40646b49764f5bebec67242ba49"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___i_q_m_a_t_h_l_i_b.html#ga33fe3c9be1cf3c2bd22d3f51954a21fb">_iq</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#ga5575e40646b49764f5bebec67242ba49">ENC_getElecAngle</a> (<a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a> encHandle)</td></tr>
<tr class="memdesc:ga5575e40646b49764f5bebec67242ba49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the electrical angle.  <a href="#ga5575e40646b49764f5bebec67242ba49">More...</a><br /></td></tr>
<tr class="separator:ga5575e40646b49764f5bebec67242ba49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9813286a49ba9728938ee1d31e5e1075"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___i_q_m_a_t_h_l_i_b.html#ga33fe3c9be1cf3c2bd22d3f51954a21fb">_iq</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#ga9813286a49ba9728938ee1d31e5e1075">ENC_getMagneticAngle</a> (<a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a> encHandle)</td></tr>
<tr class="memdesc:ga9813286a49ba9728938ee1d31e5e1075"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the magnetic angle.  <a href="#ga9813286a49ba9728938ee1d31e5e1075">More...</a><br /></td></tr>
<tr class="separator:ga9813286a49ba9728938ee1d31e5e1075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41912327e00fde03b0f2327d0cd1e008"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___i_q_m_a_t_h_l_i_b.html#ga33fe3c9be1cf3c2bd22d3f51954a21fb">_iq</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#ga41912327e00fde03b0f2327d0cd1e008">ENC_getFilteredSpeed</a> (<a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a> encHandle)</td></tr>
<tr class="memdesc:ga41912327e00fde03b0f2327d0cd1e008"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the low-pass filtered speed output.  <a href="#ga41912327e00fde03b0f2327d0cd1e008">More...</a><br /></td></tr>
<tr class="separator:ga41912327e00fde03b0f2327d0cd1e008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8a12ae5476b06e7c5d713747b4b16d0"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#gaa8a12ae5476b06e7c5d713747b4b16d0">ENC_getSpeedRPM</a> (<a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a> encHandle)</td></tr>
<tr class="memdesc:gaa8a12ae5476b06e7c5d713747b4b16d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the filtered speed in RPM.  <a href="#gaa8a12ae5476b06e7c5d713747b4b16d0">More...</a><br /></td></tr>
<tr class="separator:gaa8a12ae5476b06e7c5d713747b4b16d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8646eea096869e12fa49e0fb4896610"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#gac8646eea096869e12fa49e0fb4896610">ENC_init</a> (void *pMemory, const size_t numBytes)</td></tr>
<tr class="memdesc:gac8646eea096869e12fa49e0fb4896610"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the encoder object.  <a href="#gac8646eea096869e12fa49e0fb4896610">More...</a><br /></td></tr>
<tr class="separator:gac8646eea096869e12fa49e0fb4896610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab40f9687a19375e3633c5b453ae0db4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#gab40f9687a19375e3633c5b453ae0db4d">ENC_run</a> (<a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a> encHandle, uint32_t posnCounts, uint16_t indextFlag, uint16_t dirFlag, int16_t log_flag)</td></tr>
<tr class="memdesc:gab40f9687a19375e3633c5b453ae0db4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Based on the encoder reading, computes the electrical angle and the electrical "speed".  <a href="#gab40f9687a19375e3633c5b453ae0db4d">More...</a><br /></td></tr>
<tr class="separator:gab40f9687a19375e3633c5b453ae0db4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad808a534bc9aa2bcd4579cc2ab06f62d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#gad808a534bc9aa2bcd4579cc2ab06f62d">ENC_setIncrementalSlip</a> (<a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a> encHandle, <a class="el" href="group___i_q_m_a_t_h_l_i_b.html#ga33fe3c9be1cf3c2bd22d3f51954a21fb">_iq</a> incrementalSlip)</td></tr>
<tr class="memdesc:gad808a534bc9aa2bcd4579cc2ab06f62d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the amount of incremental slip.  <a href="#gad808a534bc9aa2bcd4579cc2ab06f62d">More...</a><br /></td></tr>
<tr class="separator:gad808a534bc9aa2bcd4579cc2ab06f62d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1e1793c120e3beb6122beddee3139b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#gad1e1793c120e3beb6122beddee3139b3">ENC_setRunFlag</a> (<a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a> encHandle)</td></tr>
<tr class="memdesc:gad1e1793c120e3beb6122beddee3139b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start logging encoder data.  <a href="#gad1e1793c120e3beb6122beddee3139b3">More...</a><br /></td></tr>
<tr class="separator:gad1e1793c120e3beb6122beddee3139b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7de20ef7f12471a4141469f07fd3c618"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#ga7de20ef7f12471a4141469f07fd3c618">ENC_setZeroOffset</a> (<a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a> encHandle, uint32_t zeroOffset)</td></tr>
<tr class="memdesc:ga7de20ef7f12471a4141469f07fd3c618"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the value for the encoder object zero offset.  <a href="#ga7de20ef7f12471a4141469f07fd3c618">More...</a><br /></td></tr>
<tr class="separator:ga7de20ef7f12471a4141469f07fd3c618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b9c19b1b01f35027b1e37df8d4ae05b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_n_c.html#ga2b9c19b1b01f35027b1e37df8d4ae05b">ENC_setup</a> (<a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a> encHandle, const int16_t sample_period, const uint16_t num_pole_pairs, const uint16_t num_enc_slots, const uint32_t enc_zero_offset, const <a class="el" href="group___t_y_p_e_s.html#ga3ded656bbe9849ad9fa2b28530390f0a">float_t</a> full_scale_freq, const <a class="el" href="group___t_y_p_e_s.html#ga3ded656bbe9849ad9fa2b28530390f0a">float_t</a> speed_update_freq, const <a class="el" href="group___t_y_p_e_s.html#ga3ded656bbe9849ad9fa2b28530390f0a">float_t</a> speed_cutoff)</td></tr>
<tr class="memdesc:ga2b9c19b1b01f35027b1e37df8d4ae05b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes encoder object parameters.  <a href="#ga2b9c19b1b01f35027b1e37df8d4ae05b">More...</a><br /></td></tr>
<tr class="separator:ga2b9c19b1b01f35027b1e37df8d4ae05b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="struct___e_n_c___obj__" id="struct___e_n_c___obj__"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct _ENC_Obj_</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Defines the encoder object. </p>

<p>Definition at line <a class="el" href="enc_8h_source.html#l00086">86</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a53a8e3400b83bbdc6f17c49734cfe8f1"></a>int32_t</td>
<td class="fieldname">
delta_enc</td>
<td class="fielddoc">
encoder count delta </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="acab3e6534e5662ed0d00f1179f2bc4ef"></a>int32_t</td>
<td class="fieldname">
enc_elec_angle</td>
<td class="fielddoc">
encoder current electrical angle </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a454123aa2cb764d3d29806d61f15dce4"></a>int32_t</td>
<td class="fieldname">
enc_magnetic_angle</td>
<td class="fielddoc">
encoder current magnetic angle (compensated for slip) </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ad88b4b1c67a53341f4aee0404fe401c8"></a>int32_t</td>
<td class="fieldname">
enc_slip_angle</td>
<td class="fielddoc">
amount of total slip </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aedd526f2ca5c66124cada3e95716bce2"></a>uint32_t</td>
<td class="fieldname">
enc_zero_offset</td>
<td class="fielddoc">
encoder zero offset in counts </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a3a93e5bf86a01b8f903a2f0dd3243d30"></a><a class="el" href="group___t_y_p_e_s.html#ga3ded656bbe9849ad9fa2b28530390f0a">float_t</a></td>
<td class="fieldname">
full_scale_freq</td>
<td class="fielddoc">
full scale frequency </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a4e60b59fb8e6d3f7d4922ff613fac25d"></a>int32_t</td>
<td class="fieldname">
incremental_slip</td>
<td class="fielddoc">
incremental amount of slip </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a140df77db1f885f6b8d030e4aee3eca5"></a>int16_t</td>
<td class="fieldname">
log[<a class="el" href="group___e_n_c.html#ga121eb1681fad522ae109feecde3c0e51">ENC_LOG_LEN</a>]</td>
<td class="fielddoc">
encoder log length </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aaa5cdcb696f83f65f517861e2d750a36"></a>int32_t</td>
<td class="fieldname">
log_idx</td>
<td class="fielddoc">
encoder log index </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="acb4957ce08ef66dbf546a851700184b8"></a><a class="el" href="group___e_n_c.html#ga1e3bfb440db154aac416d3435957af94">ENC_LOG_State_e</a></td>
<td class="fieldname">
log_state</td>
<td class="fielddoc">
encoder log state </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="adea23fa9fe3b93069e4d626579094d87"></a><a class="el" href="group___i_q_m_a_t_h_l_i_b.html#ga33fe3c9be1cf3c2bd22d3f51954a21fb">_iq</a></td>
<td class="fieldname">
mech_angle_gain</td>
<td class="fielddoc">
gain which converts the encoder counts to Q24 mechanical degrees </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="abf4101ba1b25dc6154e5c325d0ae1977"></a>uint16_t</td>
<td class="fieldname">
num_enc_slots</td>
<td class="fielddoc">
number of encoder slots </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aa6944b6c06e76ae94fd0066ae5017e73"></a>uint16_t</td>
<td class="fieldname">
num_pole_pairs</td>
<td class="fielddoc">
number of pole pairs in motor </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a83bffbbfe5439dde0493103f629380ea"></a>int16_t</td>
<td class="fieldname">
post_trigger_cnt</td>
<td class="fielddoc">
encoder log post trigger counter </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a2c273e261ad2cf69bd8efdb5a36189a8"></a>int16_t</td>
<td class="fieldname">
post_trigger_len</td>
<td class="fielddoc">
encoder log post trigger length </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="abbec5f8f64c7e6e9b98c665cc75ff634"></a>int32_t</td>
<td class="fieldname">
prev_enc</td>
<td class="fielddoc">
previous encoder reading </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="af23a121e4e8e7c7031fa9e258fa1342e"></a>int32_t</td>
<td class="fieldname">
rpm_gain</td>
<td class="fielddoc">
gain which converts the Q24 normalized electrical freq to RPM </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a899f5387deb28736b0221bec5dbdded5"></a>int16_t</td>
<td class="fieldname">
run_flag</td>
<td class="fielddoc">
encoder log free run flag </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ae1ad4f0fa35c6228598894f6f149d2e1"></a>int16_t</td>
<td class="fieldname">
sample_count</td>
<td class="fielddoc">
when it reaches the sample period, collect &amp; process encoder data </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a32b6c1df5521e2a1ead56a6bd248fe91"></a>int16_t</td>
<td class="fieldname">
sample_period</td>
<td class="fielddoc">
sample period of encoder processing </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a2c1a998af4dd2bbf8d67e284f244327f"></a><a class="el" href="group___t_y_p_e_s.html#ga3ded656bbe9849ad9fa2b28530390f0a">float_t</a></td>
<td class="fieldname">
speed_cutoff</td>
<td class="fielddoc">
speed cutoff frequency in Hz </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aad8532be855ee107f4b5d6c6ea219344"></a>int32_t</td>
<td class="fieldname">
speed_gain</td>
<td class="fielddoc">
gain which converts a difference in encoder counts to Q24 normalized electrical freq </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a6752c6f20c818196d87880b35302d981"></a>int32_t</td>
<td class="fieldname">
speed_lpf_cx</td>
<td class="fielddoc">
speed input coefficient </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="acfda2c89047738deab17c56196cd1e29"></a>int32_t</td>
<td class="fieldname">
speed_lpf_cy</td>
<td class="fielddoc">
speed output coefficient </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="acac9840244deb3e71e19210045d9ba17"></a>int32_t</td>
<td class="fieldname">
speed_lpf_out</td>
<td class="fielddoc">
speed lpf output </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a23ebb9c27ad5c773cc238e159db966db"></a>int16_t</td>
<td class="fieldname">
trigger_delta</td>
<td class="fielddoc">
calculated delta when trigger happened </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ac36247d875a304a00a8740ae7035cb37"></a>int16_t</td>
<td class="fieldname">
trigger_idx</td>
<td class="fielddoc">
index where trigger event happened </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gafe710cac084c044319ba4fa077cc4d38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENC_2PI&#160;&#160;&#160;(2.0*3.14159)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="enc_8h_source.html#l00065">65</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>

<p>Referenced by <a class="el" href="enc_8c_source.html#l00068">ENC_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga44f85a287583de51f8ea094d4a152d8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENC_LOG_DELTA_TRIGGER_THRES&#160;&#160;&#160;400</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="enc_8h_source.html#l00069">69</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>

<p>Referenced by <a class="el" href="enc_8c_source.html#l00163">ENC_run()</a>.</p>

</div>
</div>
<a class="anchor" id="ga121eb1681fad522ae109feecde3c0e51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENC_LOG_LEN&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="enc_8h_source.html#l00066">66</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>

<p>Referenced by <a class="el" href="enc_8c_source.html#l00163">ENC_run()</a>, and <a class="el" href="enc_8c_source.html#l00068">ENC_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="gae3925389d60bc66b65831ec2e83d90ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENC_RPM_Q1&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="enc_8h_source.html#l00067">67</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>

<p>Referenced by <a class="el" href="enc_8c_source.html#l00300">ENC_getSpeedRPM()</a>.</p>

</div>
</div>
<a class="anchor" id="gad3ebf6b66bef98aac014b1b5aaf75504"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENC_RPM_Q2&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="enc_8h_source.html#l00068">68</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>

<p>Referenced by <a class="el" href="enc_8c_source.html#l00300">ENC_getSpeedRPM()</a>.</p>

</div>
</div>
<a class="anchor" id="gafd2f8617912a943c2d30c80e8631f821"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENC_SPEED_COEFF_Q&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="enc_8h_source.html#l00063">63</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>

<p>Referenced by <a class="el" href="enc_8c_source.html#l00163">ENC_run()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7fb93ea469490ac06c24010992fa77ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENC_SPEED_COEFF_SCALING&#160;&#160;&#160;(1&lt;&lt;<a class="el" href="group___e_n_c.html#gafd2f8617912a943c2d30c80e8631f821">ENC_SPEED_COEFF_Q</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="enc_8h_source.html#l00064">64</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>

<p>Referenced by <a class="el" href="enc_8c_source.html#l00068">ENC_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa4ccbe7dba2fc86c77741f34c942f9ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENC_SPEED_CUTOFF_FREQ&#160;&#160;&#160;100.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="enc_8h_source.html#l00062">62</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaa9e6227e7473e536f0f0a1e38b4439fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENC_SPEED_SCALING_FACTOR&#160;&#160;&#160;16777216.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="enc_8h_source.html#l00060">60</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>

<p>Referenced by <a class="el" href="enc_8c_source.html#l00068">ENC_setup()</a>.</p>

</div>
</div>
<a class="anchor" id="gad6c884b66415712ccf2f555d79f85b64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENC_ZERO_OFFSET&#160;&#160;&#160;3813071.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="enc_8h_source.html#l00061">61</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga046a10f474ad13ede257a2b7e3ac763e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="group___e_n_c.html#struct___e_n_c___obj__">_ENC_Obj_</a>* <a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the encoder handle. </p>

<p>Definition at line <a class="el" href="enc_8h_source.html#l00120">120</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gac794fa34c17f33d5c463f62f1f336a1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="group___e_n_c.html#struct___e_n_c___obj__">_ENC_Obj_</a>  <a class="el" href="group___e_n_c.html#gac794fa34c17f33d5c463f62f1f336a1a">ENC_Obj</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the encoder object. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga1e3bfb440db154aac416d3435957af94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___e_n_c.html#ga1e3bfb440db154aac416d3435957af94">ENC_LOG_State_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration for the encoder log states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga1e3bfb440db154aac416d3435957af94a34ed26dab1090e77a5cb4bdb0d2943bb"></a>ENC_LOG_STATE_IDLE&#160;</td><td class="fielddoc">
<p>idle state </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga1e3bfb440db154aac416d3435957af94a4aacc6d4419f7d07c3536aaa39ffe8fb"></a>ENC_LOG_STATE_FREERUN&#160;</td><td class="fielddoc">
<p>freerun state </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga1e3bfb440db154aac416d3435957af94a8a49ab7e0648e42bfdaef129087bc960"></a>ENC_LOG_STATE_ACQUIRE&#160;</td><td class="fielddoc">
<p>acquire state </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="enc_8h_source.html#l00077">77</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga787f083eeb3e9c0944e06c8d4de7d619"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ENC_calcElecAngle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a>&#160;</td>
          <td class="paramname"><em>encHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>posnCounts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads encoder and returns the electrical degrees in Q24 format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">encHandle</td><td>Handle to the ENC object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">posnCounts</td><td>Current position counts from encoder </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p>Definition at line <a class="el" href="enc_8c_source.html#l00129">129</a> of file <a class="el" href="enc_8c_source.html">enc.c</a>.</p>

<p>References <a class="el" href="enc_8h_source.html#l00094">_ENC_Obj_::enc_elec_angle</a>, <a class="el" href="enc_8h_source.html#l00097">_ENC_Obj_::enc_magnetic_angle</a>, <a class="el" href="enc_8h_source.html#l00096">_ENC_Obj_::enc_slip_angle</a>, <a class="el" href="enc_8h_source.html#l00093">_ENC_Obj_::enc_zero_offset</a>, <a class="el" href="enc_8h_source.html#l00095">_ENC_Obj_::incremental_slip</a>, <a class="el" href="enc_8h_source.html#l00092">_ENC_Obj_::mech_angle_gain</a>, and <a class="el" href="enc_8h_source.html#l00090">_ENC_Obj_::num_pole_pairs</a>.</p>

</div>
</div>
<a class="anchor" id="ga5575e40646b49764f5bebec67242ba49"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___i_q_m_a_t_h_l_i_b.html#ga33fe3c9be1cf3c2bd22d3f51954a21fb">_iq</a> ENC_getElecAngle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a>&#160;</td>
          <td class="paramname"><em>encHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the electrical angle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">encHandle</td><td>Handle to the ENC object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Electrical angle in Q24 </dd></dl>

<p>Definition at line <a class="el" href="enc_8h_source.html#l00136">136</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>

<p>References <a class="el" href="enc_8h_source.html#l00094">_ENC_Obj_::enc_elec_angle</a>.</p>

</div>
</div>
<a class="anchor" id="ga41912327e00fde03b0f2327d0cd1e008"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___i_q_m_a_t_h_l_i_b.html#ga33fe3c9be1cf3c2bd22d3f51954a21fb">_iq</a> ENC_getFilteredSpeed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a>&#160;</td>
          <td class="paramname"><em>encHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the low-pass filtered speed output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">encHandle</td><td>Handle to the ENC object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>LPF speed output in Q24 </dd></dl>

<p>Definition at line <a class="el" href="enc_8h_source.html#l00156">156</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>

<p>References <a class="el" href="enc_8h_source.html#l00106">_ENC_Obj_::speed_lpf_out</a>.</p>

</div>
</div>
<a class="anchor" id="ga9813286a49ba9728938ee1d31e5e1075"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___i_q_m_a_t_h_l_i_b.html#ga33fe3c9be1cf3c2bd22d3f51954a21fb">_iq</a> ENC_getMagneticAngle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a>&#160;</td>
          <td class="paramname"><em>encHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the magnetic angle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">encHandle</td><td>Handle to the ENC object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Magnetic angle in Q24 </dd></dl>

<p>Definition at line <a class="el" href="enc_8h_source.html#l00146">146</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>

<p>References <a class="el" href="enc_8h_source.html#l00097">_ENC_Obj_::enc_magnetic_angle</a>.</p>

</div>
</div>
<a class="anchor" id="gaa8a12ae5476b06e7c5d713747b4b16d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t ENC_getSpeedRPM </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a>&#160;</td>
          <td class="paramname"><em>encHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the filtered speed in RPM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">encHandle</td><td>Handle to the ENC object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RPM in Q0 </dd></dl>

<p>Definition at line <a class="el" href="enc_8c_source.html#l00300">300</a> of file <a class="el" href="enc_8c_source.html">enc.c</a>.</p>

<p>References <a class="el" href="enc_8h_source.html#l00067">ENC_RPM_Q1</a>, <a class="el" href="enc_8h_source.html#l00068">ENC_RPM_Q2</a>, <a class="el" href="enc_8h_source.html#l00102">_ENC_Obj_::rpm_gain</a>, and <a class="el" href="enc_8h_source.html#l00106">_ENC_Obj_::speed_lpf_out</a>.</p>

</div>
</div>
<a class="anchor" id="gac8646eea096869e12fa49e0fb4896610"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a> ENC_init </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pMemory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>numBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the encoder object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pMemory</td><td>Memory pointer to object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numBytes</td><td>Object size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Object handle </dd></dl>

<p>Definition at line <a class="el" href="enc_8c_source.html#l00055">55</a> of file <a class="el" href="enc_8c_source.html">enc.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab40f9687a19375e3633c5b453ae0db4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ENC_run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a>&#160;</td>
          <td class="paramname"><em>encHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>posnCounts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>indextFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>dirFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>log_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Based on the encoder reading, computes the electrical angle and the electrical "speed". </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">encHandle</td><td>Handle to the ENC object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">posnCounts</td><td>Current position counts from encoder </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">indextFlag</td><td>If set, there was an index </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dirFlag</td><td>Indicates direction of rotation </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">log_flag</td><td>If set, logs the encoder data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p>Definition at line <a class="el" href="enc_8c_source.html#l00163">163</a> of file <a class="el" href="enc_8c_source.html">enc.c</a>.</p>

<p>References <a class="el" href="enc_8h_source.html#l00099">_ENC_Obj_::delta_enc</a>, <a class="el" href="enc_8h_source.html#l00094">_ENC_Obj_::enc_elec_angle</a>, <a class="el" href="enc_8h_source.html#l00069">ENC_LOG_DELTA_TRIGGER_THRES</a>, <a class="el" href="enc_8h_source.html#l00066">ENC_LOG_LEN</a>, <a class="el" href="enc_8h_source.html#l00080">ENC_LOG_STATE_ACQUIRE</a>, <a class="el" href="enc_8h_source.html#l00079">ENC_LOG_STATE_FREERUN</a>, <a class="el" href="enc_8h_source.html#l00078">ENC_LOG_STATE_IDLE</a>, <a class="el" href="enc_8h_source.html#l00063">ENC_SPEED_COEFF_Q</a>, <a class="el" href="enc_8h_source.html#l00093">_ENC_Obj_::enc_zero_offset</a>, <a class="el" href="enc_8h_source.html#l00114">_ENC_Obj_::log</a>, <a class="el" href="enc_8h_source.html#l00113">_ENC_Obj_::log_idx</a>, <a class="el" href="enc_8h_source.html#l00107">_ENC_Obj_::log_state</a>, <a class="el" href="enc_8h_source.html#l00092">_ENC_Obj_::mech_angle_gain</a>, <a class="el" href="enc_8h_source.html#l00091">_ENC_Obj_::num_enc_slots</a>, <a class="el" href="enc_8h_source.html#l00090">_ENC_Obj_::num_pole_pairs</a>, <a class="el" href="enc_8h_source.html#l00110">_ENC_Obj_::post_trigger_cnt</a>, <a class="el" href="enc_8h_source.html#l00109">_ENC_Obj_::post_trigger_len</a>, <a class="el" href="enc_8h_source.html#l00098">_ENC_Obj_::prev_enc</a>, <a class="el" href="enc_8h_source.html#l00108">_ENC_Obj_::run_flag</a>, <a class="el" href="enc_8h_source.html#l00088">_ENC_Obj_::sample_count</a>, <a class="el" href="enc_8h_source.html#l00089">_ENC_Obj_::sample_period</a>, <a class="el" href="enc_8h_source.html#l00101">_ENC_Obj_::speed_gain</a>, <a class="el" href="enc_8h_source.html#l00104">_ENC_Obj_::speed_lpf_cx</a>, <a class="el" href="enc_8h_source.html#l00105">_ENC_Obj_::speed_lpf_cy</a>, <a class="el" href="enc_8h_source.html#l00106">_ENC_Obj_::speed_lpf_out</a>, <a class="el" href="enc_8h_source.html#l00112">_ENC_Obj_::trigger_delta</a>, and <a class="el" href="enc_8h_source.html#l00111">_ENC_Obj_::trigger_idx</a>.</p>

</div>
</div>
<a class="anchor" id="gad808a534bc9aa2bcd4579cc2ab06f62d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ENC_setIncrementalSlip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a>&#160;</td>
          <td class="paramname"><em>encHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___i_q_m_a_t_h_l_i_b.html#ga33fe3c9be1cf3c2bd22d3f51954a21fb">_iq</a>&#160;</td>
          <td class="paramname"><em>incrementalSlip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the amount of incremental slip. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">encHandle</td><td>Handle to the ENC object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">incrementalSlip</td><td>Amount of incremental slip in Electrical Angle </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="enc_8h_source.html#l00189">189</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>

<p>References <a class="el" href="enc_8h_source.html#l00095">_ENC_Obj_::incremental_slip</a>.</p>

</div>
</div>
<a class="anchor" id="gad1e1793c120e3beb6122beddee3139b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ENC_setRunFlag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a>&#160;</td>
          <td class="paramname"><em>encHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start logging encoder data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">encHandle</td><td>Handle to the ENC object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="enc_8h_source.html#l00201">201</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>

<p>References <a class="el" href="enc_8h_source.html#l00108">_ENC_Obj_::run_flag</a>.</p>

</div>
</div>
<a class="anchor" id="ga2b9c19b1b01f35027b1e37df8d4ae05b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ENC_setup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a>&#160;</td>
          <td class="paramname"><em>encHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int16_t&#160;</td>
          <td class="paramname"><em>sample_period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>num_pole_pairs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>num_enc_slots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>enc_zero_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___t_y_p_e_s.html#ga3ded656bbe9849ad9fa2b28530390f0a">float_t</a>&#160;</td>
          <td class="paramname"><em>full_scale_freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___t_y_p_e_s.html#ga3ded656bbe9849ad9fa2b28530390f0a">float_t</a>&#160;</td>
          <td class="paramname"><em>speed_update_freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___t_y_p_e_s.html#ga3ded656bbe9849ad9fa2b28530390f0a">float_t</a>&#160;</td>
          <td class="paramname"><em>speed_cutoff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes encoder object parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">encHandle</td><td>Handle to the ENC object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sample_period</td><td>How often the encoder is read &amp; processed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_pole_pairs</td><td>Number of pole pairs in motor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_enc_slots</td><td>Number of encoder slots </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">enc_zero_offset</td><td>Encoder zero offset in counts </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">full_scale_freq</td><td>Full scale speed for normalization </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">speed_update_freq</td><td>Update frequency in Hz for speed calculation </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">speed_cutoff</td><td>Speed calculation LPF cutoff frequency in Hz </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="enc_8c_source.html#l00068">68</a> of file <a class="el" href="enc_8c_source.html">enc.c</a>.</p>

<p>References <a class="el" href="enc_8h_source.html#l00099">_ENC_Obj_::delta_enc</a>, <a class="el" href="enc_8h_source.html#l00065">ENC_2PI</a>, <a class="el" href="enc_8h_source.html#l00094">_ENC_Obj_::enc_elec_angle</a>, <a class="el" href="enc_8h_source.html#l00066">ENC_LOG_LEN</a>, <a class="el" href="enc_8h_source.html#l00078">ENC_LOG_STATE_IDLE</a>, <a class="el" href="enc_8h_source.html#l00064">ENC_SPEED_COEFF_SCALING</a>, <a class="el" href="enc_8h_source.html#l00060">ENC_SPEED_SCALING_FACTOR</a>, <a class="el" href="enc_8h_source.html#l00093">_ENC_Obj_::enc_zero_offset</a>, <a class="el" href="enc_8h_source.html#l00100">_ENC_Obj_::full_scale_freq</a>, <a class="el" href="enc_8h_source.html#l00114">_ENC_Obj_::log</a>, <a class="el" href="enc_8h_source.html#l00113">_ENC_Obj_::log_idx</a>, <a class="el" href="enc_8h_source.html#l00107">_ENC_Obj_::log_state</a>, <a class="el" href="enc_8h_source.html#l00092">_ENC_Obj_::mech_angle_gain</a>, <a class="el" href="enc_8h_source.html#l00091">_ENC_Obj_::num_enc_slots</a>, <a class="el" href="enc_8h_source.html#l00090">_ENC_Obj_::num_pole_pairs</a>, <a class="el" href="enc_8h_source.html#l00110">_ENC_Obj_::post_trigger_cnt</a>, <a class="el" href="enc_8h_source.html#l00109">_ENC_Obj_::post_trigger_len</a>, <a class="el" href="enc_8h_source.html#l00098">_ENC_Obj_::prev_enc</a>, <a class="el" href="enc_8h_source.html#l00102">_ENC_Obj_::rpm_gain</a>, <a class="el" href="enc_8h_source.html#l00108">_ENC_Obj_::run_flag</a>, <a class="el" href="enc_8h_source.html#l00088">_ENC_Obj_::sample_count</a>, <a class="el" href="enc_8h_source.html#l00089">_ENC_Obj_::sample_period</a>, <a class="el" href="enc_8h_source.html#l00103">_ENC_Obj_::speed_cutoff</a>, <a class="el" href="enc_8h_source.html#l00101">_ENC_Obj_::speed_gain</a>, <a class="el" href="enc_8h_source.html#l00104">_ENC_Obj_::speed_lpf_cx</a>, <a class="el" href="enc_8h_source.html#l00105">_ENC_Obj_::speed_lpf_cy</a>, <a class="el" href="enc_8h_source.html#l00106">_ENC_Obj_::speed_lpf_out</a>, <a class="el" href="enc_8h_source.html#l00112">_ENC_Obj_::trigger_delta</a>, and <a class="el" href="enc_8h_source.html#l00111">_ENC_Obj_::trigger_idx</a>.</p>

</div>
</div>
<a class="anchor" id="ga7de20ef7f12471a4141469f07fd3c618"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ENC_setZeroOffset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___e_n_c.html#ga046a10f474ad13ede257a2b7e3ac763e">ENC_Handle</a>&#160;</td>
          <td class="paramname"><em>encHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>zeroOffset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the value for the encoder object zero offset. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">encHandle</td><td>Handle to the ENC object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">zeroOffset</td><td>New zero offset </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="enc_8h_source.html#l00214">214</a> of file <a class="el" href="enc_8h_source.html">enc.h</a>.</p>

<p>References <a class="el" href="enc_8h_source.html#l00093">_ENC_Obj_::enc_zero_offset</a>, and <a class="el" href="enc_8h_source.html#l00092">_ENC_Obj_::mech_angle_gain</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Sep 8 2015 14:14:29 for MotorWare f2802x Module API Documentation by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
